# LLM Analyzer - ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð° Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

`LLMAnalyzer` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ GPT-4 Ð´Ð»Ñ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð° Ð²Ð°ÐºÐ°Ð½ÑÐ¸Ð¸ Ñ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸.

## Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- ðŸ“Š **ÐžÑ†ÐµÐ½ÐºÐ° Ñ€ÐµÐ»ÐµÐ²Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚Ð¸** (0.0 - 1.0) Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ 4 ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÐµÐ²
- âœ… **Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹** - Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾
- âš ï¸ **Ð¡Ð»Ð°Ð±Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹** - Ð³Ð´Ðµ ÐµÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ñ‹
- ðŸŽ¯ **ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ** - ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ Ð½Ð°Ð²Ñ‹ÐºÐ¸ Ð¸ Ð¾Ð¿Ñ‹Ñ‚
- âŒ **ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ** - Ñ‡Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ð¾ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ
- ðŸ’¡ **Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ** - Ð½Ð°Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ð¸Ð»Ð¸ Ð½ÐµÑ‚
- ðŸ’­ **Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¾Ð±Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ** - Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ Ñ‚Ð°ÐºÐ°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ°

## ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐ¸

1. **Technical skills** (40%) - Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð²
2. **Experience level** (25%) - Ð“Ð¾Ð´Ñ‹ Ð¾Ð¿Ñ‹Ñ‚Ð°, ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ ÑÐµÐ½ÑŒÐ¾Ñ€Ð½Ð¾ÑÑ‚Ð¸
3. **Domain fit** (20%) - ÐžÐ¿Ñ‹Ñ‚ Ð² Ð¸Ð½Ð´ÑƒÑÑ‚Ñ€Ð¸Ð¸, Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²
4. **Soft skills** (15%) - ÐšÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ñ, Ð»Ð¸Ð´ÐµÑ€ÑÑ‚Ð²Ð¾, ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°

## Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº

```bash
# Ð—Ð°Ð¿ÑƒÑÐº Ñ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð¼ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
python test_llm_analyzer.py
```

Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð° Ð¸ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚ Ð²ÑÐµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°Ñ‚Ð¾Ñ€Ð°.

### 2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ¾Ð´Ðµ

```python
from app.services.llm_analyze import LLMAnalyzer
from app.models.cv import CVOutput

# Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
analyzer = LLMAnalyzer(
    model="gpt-4o",      # Ð¸Ð»Ð¸ "gpt-4o-mini" Ð´Ð»Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ð¸
    temperature=0.3       # 0.0-1.0, Ð¼ÐµÐ½ÑŒÑˆÐµ = Ð±Ð¾Ð»ÐµÐµ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾
)

# ÐÐ½Ð°Ð»Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð°
analysis = analyzer.analyze_match(cv_data, vacancy_text)

print(f"Score: {analysis.relevance_score}")
print(f"Recommendation: {analysis.recommendation}")
print(f"Summary: {analysis.summary}")

# Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹
for strength in analysis.strengths:
    print(f"âœ… {strength}")

# Ð¡Ð»Ð°Ð±Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹
for weakness in analysis.weaknesses:
    print(f"âš ï¸ {weakness}")
```

### 3. ÐÐ½Ð°Ð»Ð¸Ð· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð¾Ð²

```python
# Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð¾Ð²
candidates = [cv1, cv2, cv3]

# ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ð²ÑÐµÑ…
results = analyzer.analyze_multiple(
    candidates=candidates,
    vacancy_text=vacancy_text,
    show_progress=True
)

# Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ð¾ score
sorted_results = sorted(
    results,
    key=lambda x: x[1].relevance_score,
    reverse=True
)

# Ð¢Ð¾Ð¿-3 ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð°
for cv, analysis in sorted_results[:3]:
    print(f"{cv.full_name}: {analysis.relevance_score:.3f}")
```

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° MatchAnalysis

```python
class MatchAnalysis(BaseModel):
    relevance_score: float         # 0.0 - 1.0
    overall_assessment: str        # excellent/good/moderate/poor
    summary: str                   # ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ñ€ÐµÐ·ÑŽÐ¼Ðµ
    strengths: List[str]           # 3-5 ÑÐ¸Ð»ÑŒÐ½Ñ‹Ñ… ÑÑ‚Ð¾Ñ€Ð¾Ð½
    weaknesses: List[str]          # 2-4 ÑÐ»Ð°Ð±Ñ‹Ñ… ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹
    key_matches: List[str]         # 3-5 ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ð¹
    missing_requirements: List[str]# 2-4 Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ
    recommendation: str            # strongly_recommend/recommend/consider/not_recommend
    reasoning: str                 # Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¾Ð±Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ
```

## Ð˜Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸Ñ score

| Score | Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|-------|---------|----------|
| 0.9-1.0 | ðŸŒŸ Exceptional | ÐŸÑ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ |
| 0.75-0.89 | âœ… Strong | Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ñƒ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ð¹ |
| 0.6-0.74 | ðŸ‘ Good | Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ð¼ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼ |
| 0.4-0.59 | âš ï¸ Moderate | Ð•ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ñ‹ Ð² ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ñ… Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÑ… |
| 0.2-0.39 | âŒ Weak | Ð—Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€Ð°ÑÑ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ |
| 0.0-0.19 | ðŸš« Poor | ÐÐµ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ |

```python
# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸ÑŽ
interpretation = analyzer.get_score_interpretation(0.85)
print(interpretation['label'])        # "âœ… Ð¡Ð¸Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ðµ"
print(interpretation['description'])  # ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ
```

## Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ð² Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ

### Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð² API

```python
# Ð’ app/api/routes.py
from app.services.llm_analyze import LLMAnalyzer

analyzer = LLMAnalyzer()

@router.post("/search/with-analysis")
async def search_with_llm_analysis(request: SearchRequest):
    # ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº
    candidates = search_candidates(...)
    
    # LLM Ð°Ð½Ð°Ð»Ð¸Ð· Ð´Ð»Ñ Ñ‚Ð¾Ð¿-5
    for candidate in candidates[:5]:
        cv_data = CVOutput(**candidate.dict())
        analysis = analyzer.analyze_match(cv_data, request.vacancy_text)
        candidate.llm_score = analysis.relevance_score
        candidate.llm_reasoning = analysis.reasoning
    
    return candidates
```

### Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Streamlit

```python
# Ð’ app/ui/frontend.py
if st.button("ÐÐ½Ð°Ð»Ð¸Ð· Ñ LLM"):
    analyzer = LLMAnalyzer()
    
    for candidate in top_candidates:
        with st.expander(f"ðŸ¤– LLM ÐÐ½Ð°Ð»Ð¸Ð·: {candidate['full_name']}"):
            analysis = analyzer.analyze_match(...)
            
            st.metric("LLM Score", f"{analysis.relevance_score:.3f}")
            st.write(f"**{analysis.summary}**")
            
            col1, col2 = st.columns(2)
            with col1:
                st.write("âœ… **Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹:**")
                for s in analysis.strengths:
                    st.write(f"- {s}")
            
            with col2:
                st.write("âš ï¸ **Ð¡Ð»Ð°Ð±Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹:**")
                for w in analysis.weaknesses:
                    st.write(f"- {w}")
```

## Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

GPT-4o pricing (Ð½Ð° Ñ„ÐµÐ²Ñ€Ð°Ð»ÑŒ 2024):
- Input: $5 / 1M tokens
- Output: $15 / 1M tokens

ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð½Ð° 1 Ð°Ð½Ð°Ð»Ð¸Ð·:
- ~500-1000 tokens input (CV + vacancy)
- ~300-500 tokens output (analysis)
- **~$0.01-0.02 Ð·Ð° Ð°Ð½Ð°Ð»Ð¸Ð·**

Ð”Ð»Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `gpt-4o-mini` (Ð² 10 Ñ€Ð°Ð· Ð´ÐµÑˆÐµÐ²Ð»Ðµ).

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

```python
# Ð‘Ð¾Ð»ÐµÐµ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð·
analyzer = LLMAnalyzer(
    model="gpt-4o",
    temperature=0.3  # ÐœÐµÐ½ÑŒÑˆÐµ = Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ð½ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð½Ð¾
)

# Ð‘Ð¾Ð»ÐµÐµ ÐºÑ€ÐµÐ°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ (Ð½Ð¾ Ð¼ÐµÐ½ÐµÐµ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹)
analyzer = LLMAnalyzer(
    model="gpt-4o",
    temperature=0.7
)

# Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚
analyzer = LLMAnalyzer(
    model="gpt-4o-mini",  # Ð’ 10 Ñ€Ð°Ð· Ð´ÐµÑˆÐµÐ²Ð»Ðµ
    temperature=0.3
)
```

## ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ 1: Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ° Ñ‚Ð¾Ð¿-10

```python
from app.services.cv_parser import CVParser
from app.services.llm_analyze import LLMAnalyzer

# ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ñ‚Ð¾Ð¿-10 Ð¸Ð· Qdrant
parser = CVParser()
results = search_candidates(parser, vacancy_text, top_k=10)

# LLM Ð°Ð½Ð°Ð»Ð¸Ð·
analyzer = LLMAnalyzer(model="gpt-4o-mini")  # ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ

for candidate in results[:5]:  # Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾Ð¿-5
    analysis = analyzer.analyze_match(candidate, vacancy_text)
    
    if analysis.relevance_score >= 0.75:
        print(f"ðŸŒŸ {candidate.full_name}: {analysis.relevance_score:.3f}")
        print(f"   {analysis.summary}")
```

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ 2: Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð¾Ð²

```python
# ÐÐ½Ð°Ð»Ð¸Ð· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð¾Ð²
results = analyzer.analyze_multiple(candidates, vacancy_text)

# Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ ÑƒÑ€Ð¾Ð²Ð½ÑŽ
excellent = [r for r in results if r[1].relevance_score >= 0.9]
strong = [r for r in results if 0.75 <= r[1].relevance_score < 0.9]
good = [r for r in results if 0.6 <= r[1].relevance_score < 0.75]

print(f"Exceptional: {len(excellent)}")
print(f"Strong: {len(strong)}")
print(f"Good: {len(good)}")
```

## Ð›Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ð¸ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

1. **Rate limits**: OpenAI Ð¸Ð¼ÐµÐµÑ‚ Ð»Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ð½Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
   - Tier 1: 500 RPM (requests per minute)
   - Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð·Ð°Ð´ÐµÑ€Ð¶ÐºÐ¸ Ð¼ÐµÐ¶Ð´Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°Ð¼Ð¸ Ð¿Ñ€Ð¸ batch Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ

2. **Batch processing**: Ð”Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð³Ð¾ Ñ‡Ð¸ÑÐ»Ð° ÐºÐ°Ð½Ð´Ð¸Ð´Ð°Ñ‚Ð¾Ð²
   ```python
   import time
   
   for i, cv in enumerate(candidates):
       analysis = analyzer.analyze_match(cv, vacancy)
       results.append(analysis)
       
       if (i + 1) % 10 == 0:
           time.sleep(1)  # ÐŸÐ°ÑƒÐ·Ð° ÐºÐ°Ð¶Ð´Ñ‹Ðµ 10 Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
   ```

3. **ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**: Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐ¹Ñ‚Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
   ```python
   import json
   
   # Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ
   with open(f"analysis_{cv.full_name}.json", "w") as f:
       json.dump(analysis.dict(), f)
   
   # Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ
   with open(f"analysis_{cv.full_name}.json") as f:
       cached = MatchAnalysis(**json.load(f))
   ```

## Troubleshooting

### OpenAI API key Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½
```bash
# Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² .env
OPENAI_API_KEY=sk-...
```

### Rate limit exceeded
```python
# Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ retry logic
from tenacity import retry, wait_exponential

@retry(wait=wait_exponential(multiplier=1, min=4, max=60))
def analyze_with_retry(cv, vacancy):
    return analyzer.analyze_match(cv, vacancy)
```

### Ð¢Ð¾ÐºÐµÐ½Ñ‹ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐ°ÑŽÑ‚ Ð»Ð¸Ð¼Ð¸Ñ‚
```python
# Ð¡Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‚Ðµ CV (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ðµ)
cv_short = CVOutput(
    full_name=cv.full_name,
    summary=cv.summary,
    skills=cv.skills[:20],  # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾Ð¿-20 Ð½Ð°Ð²Ñ‹ÐºÐ¾Ð²
    work_history=cv.work_history[:3],  # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 3 Ð¼ÐµÑÑ‚Ð°
    total_experience_months=cv.total_experience_months
)
```

## Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. âœ… ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð½Ð° Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ: `python test_llm_analyzer.py`
2. ðŸ“Š Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð² API (Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚)
3. ðŸŽ¨ Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² Streamlit UI
4. ðŸ’¾ Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐ¹Ñ‚Ðµ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²
5. ðŸ“ˆ Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð° LLM Ð¾Ñ†ÐµÐ½Ð¾Ðº
